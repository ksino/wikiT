<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.1.23" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no">
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="static.css">
<title>正则语法: H-wiki — Learn and live.</title>
</head>
<body class="tc-body">

<section class="tc-story-river tc-static-story-river">
<p><div class="tc-tiddler-frame tc-tiddler-view-frame tc-tiddler-exists  tc-tagged-regexp" data-tags="regexp" data-tiddler-title="正则语法"><div class="tc-tiddler-title"><div class="tc-titlebar"><span class="tc-tiddler-controls"><span class=" tc-reveal"><button aria-label="更多" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fmore-tiddler-actions" title="更多动作"></button><div class=" tc-reveal" hidden="true"></div></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><button aria-label="编辑" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fedit" title="编辑此条目"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><button aria-label="关闭" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fclose" title="关闭此条目"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span></span><a class="tc-tiddlylink tc-tiddlylink-resolves" href="%25E6%25AD%25A3%25E5%2588%2599%25E8%25AF%25AD%25E6%25B3%2595.html"><h2 class="tc-title">正则语法</h2></a></div><div class="tc-tiddler-info tc-popup-handle tc-reveal" hidden="true"></div></div><div class=" tc-reveal" hidden="true"></div>
<div class=" tc-reveal"><div class="tc-subtitle"><a class="tc-tiddlylink tc-tiddlylink-missing" href=".html"></a>2020年05月22日 08:59</div></div><div class=" tc-reveal">
<div class="tc-tags-wrapper"><span class="tc-tag-list-item">
<span class="tc-tag-label tc-btn-invisible" draggable="true" style="background-color:;
fill:#333333;
color:#333333;">
regexp
</span>
<span class="tc-drop-down tc-reveal" hidden="true"></span></span></div>
</div>

<div class="tc-tiddler-body tc-reveal"><h2 class="">正则表达式</h2><blockquote><div>一个正则表达式是一种从左到右匹配主体字符串的模式。</div><div><a class="tc-tiddlylink-external" href="https://github.com/ziishaned/learn-regex" rel="noopener noreferrer" target="_blank">参考</a></div></blockquote><h2 class="">2. 元字符</h2><table><tbody><tr class="evenRow"><th>元字符</th><th>描述</th><th>表达式</th><th>示例</th></tr><tr class="oddRow"><td>.</td><td>句号匹配任意单个字符除了换行符。</td><td>.ar</td><td>The <span style="color: #19CAAD"><strong>car</strong></span> <span style="color: #19CAAD"><strong>par</strong></span>ked in the <span style="color: #19CAAD"><strong>gar</strong></span>age.</td></tr><tr class="evenRow"><td>[ ]</td><td>字符种类。匹配方括号内的任意字符。</td><td>[Tt]he</td><td><span style="color: #19CAAD"><strong>The</strong></span> car parked in <span style="color: #19CAAD"><strong>the</strong></span> garage.</td></tr><tr class="oddRow"><td>[^ ]</td><td>否定的字符种类。匹配除了方括号里的任意字符</td><td>[^c]ar</td><td>The car <span style="color: #19CAAD"><strong>par</strong></span>ked in the <span style="color: #19CAAD"><strong>gar</strong></span>age.</td></tr><tr class="evenRow"><td>*</td><td>匹配&gt;=0个重复的在*号之前的字符。</td><td>[a-z]*</td><td><span style="color: #19CAAD"><strong>he car parked in the garage</strong></span></td></tr><tr class="oddRow"><td>+</td><td>匹配&gt;=1个重复的+号前的字符</td><td>c.+t</td><td>The fat <span style="color: #19CAAD"><strong>cat sat on the mat</strong></span>.</td></tr><tr class="evenRow"><td>?</td><td>标记?之前的字符为可选.</td><td>[T]?he</td><td><span style="color: #19CAAD"><strong>The</strong></span> car is parked in t<span style="color: #19CAAD"><strong>he</strong></span> garage.</td></tr><tr class="oddRow"><td>{n}</td><td>匹配num个大括号之前的字符或字符集 (n &lt;= num &lt;= m).</td><td>[0-9]{3}</td><td>The number was 9.<span style="color: #19CAAD"><strong>999</strong></span>7 but we rounded it off to 10.0.</td></tr><tr class="evenRow"><td>{n,}</td><td>匹配num个大括号之前的字符或字符集 (n &lt;= num &lt;= m).</td><td>[0-9]{2,}</td><td>The number was 9.<span style="color: #19CAAD"><strong>9997</strong></span> to <span style="color: #19CAAD"><strong>10</strong></span>.0.</td></tr><tr class="oddRow"><td>{n,m}</td><td>匹配num个大括号之前的字符或字符集 (n &lt;= num &lt;= m).</td><td>[0-9]{2,3}</td><td>The number was 9.<span style="color: #19CAAD"><strong>999</strong></span>7 to <span style="color: #19CAAD"><strong>10</strong></span>.0.</td></tr><tr class="evenRow"><td>(xyz)</td><td>字符集，匹配与 xyz 完全相等的字符串.</td><td>(c|g|p)ar</td><td>The <span style="color: #19CAAD"><strong>car</strong></span> is parked in the <span style="color: #19CAAD"><strong>gar</strong></span>age.</td></tr><tr class="oddRow"><td>|</td><td>或运算符，匹配符号前或后的字符.</td><td>(T|t)he|car</td><td><span style="color: #19CAAD"><strong>The car </strong></span>is parked in <span style="color: #19CAAD"><strong>the</strong></span> garage.</td></tr><tr class="evenRow"><td>\</td><td>转义字符,用于匹配一些保留的字符 <code>[ ] ( ) { } . * + ? ^ $ \ |</code></td><td><code>(f|c|m)at\.?</code></td><td>The <span style="color: #19CAAD"><strong>fat cat</strong></span> sat on the <span style="color: #19CAAD"><strong>mat.</strong></span></td></tr><tr class="oddRow"><td align="center"><code>^</code></td><td>从开始行开始匹配.</td><td><code>^(T|t)he</code></td><td><span style="color: #19CAAD"><strong>The</strong></span> car is parked in the garage.</td></tr><tr class="evenRow"><td align="center">$</td><td>从末端开始匹配.</td><td>(at\.)$</td><td>The fat cat. sat. on the m<span style="color: #19CAAD"><strong>at.</strong></span></td></tr></tbody></table><h2 class="">3. 简写字符集</h2><table><tbody><tr class="evenRow"><th>简写</th><th>描述</th></tr><tr class="oddRow"><td>.</td><td>除换行符外的所有字符</td></tr><tr class="evenRow"><td>\w</td><td>匹配所有字母数字下划线汉字</td></tr><tr class="oddRow"><td>\W</td><td>匹配所有非字母数字，即符号，等同于： <code>[^\w]</code></td></tr><tr class="evenRow"><td>\d</td><td>匹配数字： <code>[0-9]</code></td></tr><tr class="oddRow"><td>\D</td><td>匹配非数字： <code>[^\d]</code></td></tr><tr class="evenRow"><td>\s</td><td>匹配所有空格字符，等同于： <code>[\t\n\f\r\p{Z}]</code></td></tr><tr class="oddRow"><td>\S</td><td>匹配所有非空格字符： <code>[^\s]</code></td></tr><tr class="evenRow"><td>\f</td><td>匹配一个换页符</td></tr><tr class="oddRow"><td>\n</td><td>匹配一个换行符</td></tr><tr class="evenRow"><td>\r</td><td>匹配一个回车符</td></tr><tr class="oddRow"><td>\t</td><td>匹配一个制表符</td></tr><tr class="evenRow"><td>\v</td><td>匹配一个垂直制表符</td></tr><tr class="oddRow"><td>\p</td><td>匹配 CR/LF（等同于 <code>\r\n</code>），用来匹配 DOS 行终止符</td></tr></tbody></table><h2 class="">4. 零宽度断言（前后预查）</h2><table><tbody><tr class="evenRow"><th>符号</th><th>描述</th><th>exp</th><th>示例</th></tr><tr class="oddRow"><td>?=</td><td>正先行断言-存在</td><td><code>(T|t)he(?=\sfat)</code></td><td><span style="color: #19CAAD"><strong>The</strong></span> fat cat sat on the mat.</td></tr><tr class="evenRow"><td>?!</td><td>负先行断言-排除</td><td><code>(T|t)he(?!\sfat)</code></td><td>The fat cat sat on <span style="color: #19CAAD"><strong>the</strong></span> mat.</td></tr><tr class="oddRow"><td>?&lt;=</td><td>正后发断言-存在</td><td><code>(?&lt;=(T|t)he\s)(fat|mat)</code></td><td>The <span style="color: #19CAAD"><strong>fat</strong></span> cat sat on the <span style="color: #19CAAD"><strong>mat</strong></span>.</td></tr><tr class="evenRow"><td>?&lt;!</td><td>负后发断言-排除</td><td><code>(?&amp;lt;!(T|t)he\s)(cat)</code></td><td>The cat sat on <span style="color: #19CAAD"><strong>cat</strong></span>.</td></tr></tbody></table><h2 class="">5. 标志</h2><table><tbody><tr class="evenRow"><th>标志</th><th>描述</th><th>exp</th><th>示例</th></tr><tr class="oddRow"><td>i</td><td>忽略大小写。</td><td>/The/gi</td><td><span style="color: #19CAAD"><strong>The</strong></span> fat cat sat on <span style="color: #19CAAD"><strong>the</strong></span> mat.</td></tr><tr class="evenRow"><td>g</td><td>全局搜索。</td><td>/.(at)/g</td><td>The <span style="color: #19CAAD"><strong>fat cat sat</strong></span> on the <span style="color: #19CAAD"><strong>mat</strong></span>.</td></tr><tr class="oddRow"><td>m</td><td>多行修饰符：锚点元字符 <code>^</code> <code>$</code> 工作范围在每行的起始。</td><td></td><td></td></tr></tbody></table><ol><li><ol><li><ol><li>5.3 多行修饰符（Multiline）</li></ol></li></ol></li></ol><p>多行修饰符 <code>m</code> 常用于执行一个多行匹配。</p><p>像之前介绍的 <code>(^,$)</code> 用于检查格式是否是在待检测字符串的开头或结尾。但我们如果想要它在每行的开头和结尾生效，我们需要用到多行修饰符 <code>m</code>。</p><p>例如，表达式 <code>/at(.)?$/gm</code> 表示小写字符 <code>a</code> 后跟小写字符 <code>t</code> ，末尾可选除换行符外任意字符。根据 <code>m</code> 修饰符，现在表达式匹配每行的结尾。</p><p><pre>
&quot;/.at(.)?$/&quot; =&gt; The fat
                cat sat
                on the <span style="color: #19CAAD"><strong>mat.</strong></span>
</pre></p><p><pre>
&quot;/.at(.)?$/gm&quot; =&gt; The <span style="color: #19CAAD"><strong>fat</strong></span>
                  cat <span style="color: #19CAAD"><strong>sat</strong></span>
                  on the <span style="color: #19CAAD"><strong>mat.</strong></span>
</pre></p><h2 class="">6. 贪婪匹配与惰性匹配（Greedy vs lazy matching）</h2><p>正则表达式默认采用贪婪匹配模式，在该模式下意味着会匹配尽可能长的子串。我们可以使用 <code>?</code> 将贪婪匹配模式转化为惰性匹配模式。</p><p><pre>
&quot;/(.*at)/&quot; =&gt; <span style="color: #19CAAD"><strong>The fat cat sat on the mat</strong></span>. </pre></p><p><pre>
&quot;/(.*?at)/&quot; =&gt; <span style="color: #19CAAD"><strong>The fat</strong></span> cat sat on the mat. </pre></p></div>

<div class="tc-tiddler-plugin-info tc-reveal"><p>
</p></div>



</div>

</p>
</section>
</body>
</html>

