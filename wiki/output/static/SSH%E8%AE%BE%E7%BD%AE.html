<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.1.23" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no">
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="static.css">
<title>SSH设置: H-wiki — Learn and live.</title>
</head>
<body class="tc-body">

<section class="tc-story-river tc-static-story-river">
<p><div class="tc-tiddler-frame tc-tiddler-view-frame tc-tiddler-exists  tc-tagged-linux" data-tags="linux" data-tiddler-title="SSH设置"><div class="tc-tiddler-title"><div class="tc-titlebar"><span class="tc-tiddler-controls"><span class=" tc-reveal"><button aria-label="更多" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fmore-tiddler-actions" title="更多动作"></button><div class=" tc-reveal" hidden="true"></div></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><button aria-label="编辑" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fedit" title="编辑此条目"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><button aria-label="关闭" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fclose" title="关闭此条目"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span></span><a class="tc-tiddlylink tc-tiddlylink-resolves" href="SSH%25E8%25AE%25BE%25E7%25BD%25AE.html"><h2 class="tc-title">SSH设置</h2></a></div><div class="tc-tiddler-info tc-popup-handle tc-reveal" hidden="true"></div></div><div class=" tc-reveal" hidden="true"></div>
<div class=" tc-reveal"><div class="tc-subtitle"><a class="tc-tiddlylink tc-tiddlylink-missing" href=".html"></a>2019年11月06日 09:41</div></div><div class=" tc-reveal">
<div class="tc-tags-wrapper"><span class="tc-tag-list-item">
<span class="tc-tag-label tc-btn-invisible" draggable="true" style="background-color:;
fill:#333333;
color:#333333;">
linux
</span>
<span class="tc-drop-down tc-reveal" hidden="true"></span></span></div>
</div>

<div class="tc-tiddler-body tc-reveal"><h2 class="">检查SSH服务是否已启动</h2><blockquote><div>Ubuntu系统默认是没有SSH服务的，故要检查SSH服务是否已安装。</div><div><a class="tc-tiddlylink-external" href="https://www.cnblogs.com/asyang1/p/9467646.html" rel="noopener noreferrer" target="_blank">参考</a></div></blockquote><pre class="bash hljs"><code>ps -e | grep ssh

<span class="hljs-comment">#  7529 ?        00:00:00 sshd</span>
<span class="hljs-comment">#  7852 pts/1    00:00:00 ssh</span>
<span class="hljs-comment"># 若输入指令后显示类似于上图所示，则说明SSH服务已启动</span>
<span class="hljs-comment"># 其中sshd表示ssh-server已启动，ssh表示ssh-client已启动</span></code></pre><h2 class="">安装SSH服务</h2><pre class="bash hljs"><code><span class="hljs-comment"># 1.客服端</span>
sudo apt-get install openssh-client
<span class="hljs-comment"># 2.服务端</span>
sudo apt-get install openssh-server
</code></pre><h2 class="">启动SSH服务</h2><pre class="bash hljs"><code>sudo /etc/init.d/ssh start
<span class="hljs-comment"># 检测是否已启动</span>
ps -e | grep ssh</code></pre><h2 class="">修改SSH配置文件</h2><pre class="bash hljs"><code>sudo gedit /etc/ssh/sshd_config</code></pre><h2 class="">ssh开机自动启动</h2><pre class="bash hljs"><code><span class="hljs-comment"># 开机自动启动ssh命令</span>
sudo systemctl <span class="hljs-built_in">enable</span> ssh

<span class="hljs-comment"># 关闭ssh开机自动启动命令</span>
sudo systemctl <span class="hljs-built_in">disable</span> ssh

<span class="hljs-comment"># 单次开启ssh</span>
sudo systemctl start ssh

<span class="hljs-comment"># 单次关闭ssh</span>
sudo systemctl stop ssh

<span class="hljs-comment"># 设置好后重启系统</span>
reboot

<span class="hljs-comment">#查看ssh是否启动，看到Active: active (running)即表示成功</span>
sudo systemctl status ssh</code></pre><h2 class="">ssh-key免密登录</h2><ul><li><code>ssh-keygen -C vultr</code><blockquote><div><code>-C</code> 后面的名字随便取，只是让你认出是那个<code>key</code></div><div>id_rsa 是私钥 自己保存 不要给别人看</div><div>id_rsa.pub 是公钥, 是要到处使用的</div></blockquote></li><li><code>cd ~/.ssh</code></li><li>将<code>id_rsa.pub</code>的内容复制到服务器<code>~/.ssh/authorized_keys</code> 文件中</li></ul><p><a class="tc-tiddlylink-external" href="https://www.cnblogs.com/asyang1/p/9467646.html" rel="noopener noreferrer" target="_blank">Ubuntu环境下SSH服务安装、SSH远程登录以及SSH数据传输</a></p><h2 class="">win7</h2><ul><li>ssh-key路径<blockquote><div><code>C:/Users/Administrator/.ssh/</code></div></blockquote></li><li>cmder 可以直接访问SSH<blockquote><div><code>ssh ubuntu@123.207.18.80</code></div></blockquote></li></ul><h2 class="">禁止ssh密码登录</h2><ul><li><code>sudo vim /etc/ssh/sshd_config</code><blockquote><div><code>PasswordAuthentication no</code></div><div>禁用密码验证</div></blockquote></li></ul></div>

<div class="tc-tiddler-plugin-info tc-reveal"><p>
</p></div>



</div>

</p>
</section>
</body>
</html>

